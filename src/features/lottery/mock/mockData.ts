import { Lottery, LotteryStatus, MarketType } from '../types';
import { parseEther } from 'viem';

// Helper to convert ETH to wei string
const toWei = (eth: number) => parseEther(eth.toString()).toString();

// Current timestamp for reference
const now = Math.floor(Date.now() / 1000);
const DAY = 24 * 60 * 60;

// 다양한 경품과 상태를 가진 Mock 복권 데이터
export const MOCK_LOTTERIES: Lottery[] = [
  // OPEN 상태 (진행 중) - LOTTERY 타입
  {
    id: 'lottery-1',
    contractAddress: '0x1234567890abcdef1234567890abcdef12345678',
    title: '제주도 럭셔리 펜션 1박 숙박권',
    description: '아름다운 제주도에서 프라이빗한 휴식을 즐기세요. 오션뷰 럭셔리 펜션 1박 숙박권입니다.',
    imageUrl: 'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=800',
    prizeDescription: '제주 럭셔리 펜션 1박 (2인 기준)',
    marketType: MarketType.LOTTERY,
    ticketPrice: toWei(0.01),
    participantDeposit: toWei(0.005),
    sellerDeposit: '0',
    prizePool: toWei(0.47),
    goalAmount: toWei(1),
    preparedQuantity: 1,
    endTime: now + 5 * DAY,
    status: LotteryStatus.OPEN,
    participantCount: 47,
    seller: '0x1234567890abcdef1234567890abcdef12345678',
    winners: [],
    shippingRegions: ['KR'],
    createdAt: new Date(now * 1000 - 2 * DAY * 1000).toISOString(),
  },

  // OPEN 상태 - RAFFLE 타입 (다수 당첨)
  {
    id: 'lottery-2',
    contractAddress: '0xabcdef1234567890abcdef1234567890abcdef12',
    title: 'PlayStation 5 디지털 에디션',
    description: '최신 PS5 디지털 에디션을 가져가세요! 듀얼센스 컨트롤러 포함. 3명에게 드립니다!',
    imageUrl: 'https://images.unsplash.com/photo-1606813907291-d86efa9b94db?w=800',
    prizeDescription: 'PS5 Digital Edition + DualSense 컨트롤러',
    marketType: MarketType.RAFFLE,
    ticketPrice: toWei(0.02),
    participantDeposit: toWei(0.005),
    sellerDeposit: toWei(0.15), // 15% of goalAmount
    prizePool: toWei(0.84),
    goalAmount: toWei(1),
    preparedQuantity: 3,
    endTime: now + 10 * DAY,
    status: LotteryStatus.OPEN,
    participantCount: 42,
    seller: '0xabcdef1234567890abcdef1234567890abcdef12',
    winners: [],
    shippingRegions: ['WORLDWIDE'],
    createdAt: new Date(now * 1000 - 3 * DAY * 1000).toISOString(),
  },

  // OPEN 상태 - 무료 복권
  {
    id: 'lottery-3',
    contractAddress: '0x9876543210fedcba9876543210fedcba98765432',
    title: '코카콜라 제로 24캔 박스',
    description: '시원한 코카콜라 제로! 24캔 한 박스를 드립니다. 무료 응모!',
    imageUrl: 'https://images.unsplash.com/photo-1554866585-cd94860890b7?w=800',
    prizeDescription: '코카콜라 제로 355ml x 24캔',
    marketType: MarketType.LOTTERY,
    ticketPrice: '0',
    participantDeposit: toWei(0.005),
    sellerDeposit: '0',
    prizePool: '0',
    goalAmount: '0',
    preparedQuantity: 1,
    endTime: now + 2 * DAY,
    status: LotteryStatus.OPEN,
    participantCount: 24,
    seller: '0x9876543210fedcba9876543210fedcba98765432',
    winners: [],
    shippingRegions: ['KR', 'JP'],
    createdAt: new Date(now * 1000 - 1 * DAY * 1000).toISOString(),
  },

  // CLOSED 상태 (마감됨 - 추첨 대기)
  {
    id: 'lottery-4',
    contractAddress: '0x1111222233334444555566667777888899990000',
    title: 'Apple AirPods Pro 2세대',
    description: '노이즈 캔슬링과 공간 음향을 경험하세요.',
    imageUrl: 'https://images.unsplash.com/photo-1600294037681-c80b4cb5b434?w=800',
    prizeDescription: 'AirPods Pro 2세대 (USB-C)',
    marketType: MarketType.LOTTERY,
    ticketPrice: toWei(0.03),
    participantDeposit: toWei(0.005),
    sellerDeposit: '0',
    prizePool: toWei(1.5),
    goalAmount: toWei(1.5),
    preparedQuantity: 1,
    endTime: now - 1 * DAY,
    status: LotteryStatus.CLOSED,
    participantCount: 50,
    seller: '0x1111222233334444555566667777888899990000',
    winners: [],
    snapshotBlock: 12345678,
    shippingRegions: ['US', 'CA'],
    createdAt: new Date(now * 1000 - 10 * DAY * 1000).toISOString(),
    closedAt: new Date(now * 1000 - 1 * DAY * 1000).toISOString(),
  },

  // REVEALED 상태 (당첨자 발표 - settle 대기)
  {
    id: 'lottery-6',
    contractAddress: '0xffff0000aaaa1111bbbb2222cccc3333dddd4444',
    title: 'iPhone 15 Pro Max 256GB',
    description: '최신 아이폰 15 Pro Max! 티타늄 디자인.',
    imageUrl: 'https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?w=800',
    prizeDescription: 'iPhone 15 Pro Max 256GB 내추럴 티타늄',
    marketType: MarketType.LOTTERY,
    ticketPrice: toWei(0.1),
    participantDeposit: toWei(0.005),
    sellerDeposit: '0',
    prizePool: toWei(10),
    goalAmount: toWei(10),
    preparedQuantity: 1,
    endTime: now - 5 * DAY,
    status: LotteryStatus.REVEALED,
    participantCount: 100,
    seller: '0xffff0000aaaa1111bbbb2222cccc3333dddd4444',
    winners: ['0xc0ee55c4d1f05730ffae7ad09af5f8c7d5bcd7fc'],
    shippingRegions: ['KR', 'JP', 'TW', 'SG'],
    createdAt: new Date(now * 1000 - 20 * DAY * 1000).toISOString(),
    closedAt: new Date(now * 1000 - 6 * DAY * 1000).toISOString(),
    revealedAt: new Date(now * 1000 - 5 * DAY * 1000).toISOString(),
  },

  // REVEALED 상태 - RAFFLE (다수 당첨)
  {
    id: 'lottery-7',
    contractAddress: '0x5555666677778888999900001111222233334444',
    title: '다이슨 에어랩 컴플리트',
    description: '스타일링의 혁명! 다이슨 에어랩으로 완벽한 헤어를. 2명에게 드립니다!',
    imageUrl: 'https://images.unsplash.com/photo-1522338242042-2d1c40d74d30?w=800',
    prizeDescription: '다이슨 에어랩 컴플리트 롱',
    marketType: MarketType.RAFFLE,
    ticketPrice: toWei(0.05),
    participantDeposit: toWei(0.005),
    sellerDeposit: toWei(0.6),
    prizePool: toWei(4),
    goalAmount: toWei(4),
    preparedQuantity: 2,
    endTime: now - 3 * DAY,
    status: LotteryStatus.REVEALED,
    participantCount: 80,
    seller: '0x5555666677778888999900001111222233334444',
    winners: [
      '0xc0ee55c4d1f05730ffae7ad09af5f8c7d5bcd7fc',
      '0xdead0000beef1111cafe2222feed3333babe4444',
    ],
    shippingRegions: ['WORLDWIDE'],
    createdAt: new Date(now * 1000 - 25 * DAY * 1000).toISOString(),
    closedAt: new Date(now * 1000 - 4 * DAY * 1000).toISOString(),
    revealedAt: new Date(now * 1000 - 3 * DAY * 1000).toISOString(),
  },

  // COMPLETED 상태 (정산 완료)
  {
    id: 'lottery-8',
    contractAddress: '0x0000111122223333444455556666777788889999',
    title: '스타벅스 텀블러 세트',
    description: '스타벅스 시즌 한정 텀블러 3종 세트입니다.',
    imageUrl: 'https://images.unsplash.com/photo-1514432324607-a09d9b4aefdd?w=800',
    prizeDescription: '스타벅스 텀블러 3종 세트',
    marketType: MarketType.LOTTERY,
    ticketPrice: toWei(0.01),
    participantDeposit: toWei(0.005),
    sellerDeposit: '0',
    prizePool: '0', // Paid out
    goalAmount: toWei(0.5),
    preparedQuantity: 1,
    endTime: now - 10 * DAY,
    status: LotteryStatus.COMPLETED,
    participantCount: 50,
    seller: '0x0000111122223333444455556666777788889999',
    winners: ['0xc0ee55c4d1f05730ffae7ad09af5f8c7d5bcd7fc'],
    shippingRegions: ['KR'],
    createdAt: new Date(now * 1000 - 30 * DAY * 1000).toISOString(),
    closedAt: new Date(now * 1000 - 11 * DAY * 1000).toISOString(),
    revealedAt: new Date(now * 1000 - 10 * DAY * 1000).toISOString(),
    completedAt: new Date(now * 1000 - 8 * DAY * 1000).toISOString(),
  },

  // COMPLETED 상태
  {
    id: 'lottery-9',
    contractAddress: '0xeeee1111dddd2222cccc3333bbbb4444aaaa5555',
    title: 'LG 그램 17인치 노트북',
    description: '가볍고 강력한 LG 그램 17인치 노트북.',
    imageUrl: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=800',
    prizeDescription: 'LG 그램 17 (i7, 16GB, 512GB)',
    marketType: MarketType.LOTTERY,
    ticketPrice: toWei(0.08),
    participantDeposit: toWei(0.005),
    sellerDeposit: '0',
    prizePool: '0',
    goalAmount: toWei(8),
    preparedQuantity: 1,
    endTime: now - 30 * DAY,
    status: LotteryStatus.COMPLETED,
    participantCount: 100,
    seller: '0xeeee1111dddd2222cccc3333bbbb4444aaaa5555',
    winners: ['0xdead0000beef1111cafe2222feed3333babe4444'],
    shippingRegions: ['WORLDWIDE'],
    createdAt: new Date(now * 1000 - 60 * DAY * 1000).toISOString(),
    completedAt: new Date(now * 1000 - 25 * DAY * 1000).toISOString(),
  },

  // FAILED 상태 (목표 미달)
  {
    id: 'lottery-10',
    contractAddress: '0xcccc7777bbbb8888aaaa9999ffff0000eeee1111',
    title: '롤렉스 서브마리너',
    description: '명품 시계의 대명사, 롤렉스 서브마리너. 목표 금액 미달로 실패.',
    imageUrl: 'https://images.unsplash.com/photo-1587836374828-4dbafa94cf0e?w=800',
    prizeDescription: '롤렉스 서브마리너 데이트',
    marketType: MarketType.LOTTERY,
    ticketPrice: toWei(0.5),
    participantDeposit: toWei(0.005),
    sellerDeposit: '0',
    prizePool: toWei(25), // Only reached 50%
    goalAmount: toWei(50),
    preparedQuantity: 1,
    endTime: now - 7 * DAY,
    status: LotteryStatus.FAILED,
    participantCount: 50,
    seller: '0xcccc7777bbbb8888aaaa9999ffff0000eeee1111',
    winners: [],
    shippingRegions: ['WORLDWIDE'],
    createdAt: new Date(now * 1000 - 40 * DAY * 1000).toISOString(),
    closedAt: new Date(now * 1000 - 7 * DAY * 1000).toISOString(),
  },

  // CREATED 상태 (생성됨 - 판매자가 아직 오픈 안함)
  {
    id: 'lottery-11',
    contractAddress: '0xdddd5555cccc6666bbbb7777aaaa8888ffff9999',
    title: 'Apple Watch Ultra 2',
    description: '극한의 스포츠를 위한 Apple Watch Ultra 2.',
    imageUrl: 'https://images.unsplash.com/photo-1434493789847-2f02dc6ca35d?w=800',
    prizeDescription: 'Apple Watch Ultra 2',
    marketType: MarketType.LOTTERY,
    ticketPrice: toWei(0.05),
    participantDeposit: toWei(0.005),
    sellerDeposit: '0',
    prizePool: '0',
    goalAmount: toWei(5),
    preparedQuantity: 1,
    endTime: now + 14 * DAY,
    status: LotteryStatus.CREATED,
    participantCount: 0,
    seller: '0xc0ee55c4d1f05730ffae7ad09af5f8c7d5bcd7fc', // Current user is seller
    winners: [],
    shippingRegions: ['KR', 'JP', 'US'],
    createdAt: new Date(now * 1000).toISOString(),
  },
];

// Current user address for testing
export const CURRENT_USER_ADDRESS = '0xc0ee55c4d1f05730ffae7ad09af5f8c7d5bcd7fc';
